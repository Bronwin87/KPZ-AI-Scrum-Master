<div class="m-4 flex justify-start">
  @if (!showLoginForm()) {
  <div class="flex flex-col">
    <p>{{ 'UserSettings.Tagia.AlreadyLoggedIn' | translate }}</p>
    <button
      mat-raised-button
      color="primary"
      type="button"
      (click)="forceLoginForm()"
    >
      {{ 'UserSettings.Tagia.ProvideDataOnceAgain' | translate }}
    </button>
  </div>
  } @else {
  <div [formGroup]="formGroup" class="flex flex-col w-full">
    <div class="mat-headline-6">
      {{ 'UserSettings.Tagia.LogInTitle' | translate }}
    </div>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'UserSettings.Tagia.Login' | translate }}</mat-label>
      <input formControlName="login" matInput type="text" required />
      <mat-error>{{
        'UserSettings.Tagia.Login.Required' | translate
      }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'UserSettings.Tagia.Password' | translate }}</mat-label>
      <input formControlName="password" matInput type="password" required />
      <mat-error>{{
        'UserSettings.Tagia.Password.Required' | translate
      }}</mat-error>
    </mat-form-field>

    <div class="flex flex-row justify-end gap-2">
      <button
        mat-stroked-button
        color="primary"
        type="button"
        (click)="cancelLoginFormIfPossible()"
      >
        {{ 'UserSettings.Tagia.Return' | translate }}
      </button>
      <button
        mat-raised-button
        color="primary"
        type="button"
        (click)="submit()"
        [disabled]="!isFormValid"
      >
        {{ 'UserSettings.Tagia.LoginText' | translate }}
      </button>
    </div>
  </div>
  }
</div>
